<!doctype HTML>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width">

  <title>{{ site.name }} {{ page.title }} page</title>

  <link rel="stylesheet" href="css/main.css" />{% if page.title == "pattern library" %}
  <link rel="stylesheet" href="css/pattern-library.css" />{% endif %}
</head>
{% if page.title == 'patchwork' %}<body>
{% for pattern in page.patterns %}{{ pattern.content }}{% endfor %}
{% else %}<body class="pl-main">
  <h1 class="pl-h1">{{ site.name }} {{ page.title }} page</h1>

  <div class="pl-nav">
    <a class="pl-link" href="/">{{ site.name }}</a>
  </div>

{% for section in page.sections %}
  <section class="pl-section">
    <h2 class="pl-h2">{{ section | first }}</h2>
{% assign patterns = section | last | sort %}{% for pattern in patterns %}
    <div class="pl-pattern" id="{{ pattern.id }}">
      <details class="pl-pattern-details">
        <summary>{{ pattern.id }} <a class="pl-link" rel="bookmark" href="#{{ pattern.id }}" title="Shortcut to {{ pattern.id }}">#</a></summary>
        {% if pattern.usage %}<p class="pl-pattern-usage">
          <strong>Usage&nbsp;:</strong> {{ pattern.usage }}
        </p>{% endif %}
        <pre class="pl-pattern-markup"><code>{{ pattern.markup_escaped }}</code></pre>
      </details>
      <div class="pl-pattern-preview">
{{ pattern.markup }}
      </div>
    </div>
{% endfor %}
  </section>
{% endfor%}

{% endif %}</body>
</html>